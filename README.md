# Knowledge (By Aris)

## Purpose

Provide a comprehensive and engaging learning experience on text-based content.
Designed for self-learners who prefer reading over video lectures, offering courses
across various subjects like programming, history, science and more.

## Target Audience

- Self-learners who prefer text-based learning.
- Students and professionals looking for supplementary educational resources.

## Key Features

1. **Course catalog**. Categorized by subjects2. **Interactive Lessons**: Text based lessons with interactive examples,
   quizzes and exercises.
2. **User Authentication**: Secure sign-up and sign-in using Clerk.
3. **Progress Tracking**: Users can track their course progress and receive
   personalized recommendations
   based on their learning history.
4. **Accessibility Features**: High-contrast mode, text-to-speech options,
   and adjustable text sizes for enhanced accessibility.
5. **Mobile Responsive Design**: Ensuring a seamless learning experience
   across various devices.

## Technology Stack

### Frontend Technologies

- **Next.js**: Selected for its server-side rendering capabilities,
  which enhance SEO and improve performance, especially beneficial
  for a content-rich application like Learnify.
- **React**: Used for building a dynamic and interactive user interface,
  taking advantage of its component-based architecture.
- **TypeScript**: Implemented for its strong typing features,
  which enhance code quality and maintainability.
- **shadcn/ui:** As a design system.

### Backend Technologies

- **Next.js API Routes**: Leveraged for building API endpoints
  within the Next.js framework. This simplifies development by
  using a unified framework for both frontend and backend, eliminating
  the need for a separate Express.js server.
- **MongoDB Atlas**: Chosen as the database solution for its
  scalability and flexibility, particularly suitable for handling
  document-based data structures in a dynamic, text-based learning platform.
- **Mongoose**: Utilized as a MongoDB object modeling tool,
  designed to work in an asynchronous environment
  and simplify interactions with the database.

### Authentication

- **Clerk**: Integrated for robust user authentication
  and management. Clerk provides a seamless and secure
  way to handle user sign-ups, sign-ins, and profile management.
  - Pre-built UI Components: Using Clerk's customizable
    components for user authentication processes.
  - Session Management: Securely managed through Clerk's APIs,
    offering both server-side and client-side integrations.
  - User Data Management: Utilizing Clerk for storing and
    managing user profiles and authentication states.

### Development Tools

- **Git**: For version control, facilitating collaborative
  development and code versioning.
- **ESLint**: To enforce coding standards and detect
  potential issues in JavaScript/TypeScript.
- **Prettier**: An opinionated code formatter to ensure a
  consistent code style across the project.
- **Vercel**: Used for deploying the Next.js application,
  providing seamless integration, automatic deployments,
  and support for serverless functions.

### Additional Libraries and Frameworks

- **Fetch API**: Employed for making HTTP requests from the frontend
  to the backend. The Fetch API is native to modern browsers, eliminating
  the need for additional libraries like Axios.
- **React Query**: Implemented for efficient server state management
  in the frontend, handling data fetching, caching, and state synchronization.

## Database Schema Overview

### Collections

1. **Users**
2. **Courses**
3. **Sections**
4. **Lessons**
5. **Quizzes**

### Users Collection

- **\_id**: MongoDB's autogenerated unique identifier.
- **clerkUserId**: Unique identifier from Clerk for user authentication linkage.
- **email**: User's email address.
- **name**: User's full name.

### Courses Collection

- **\_id**: Unique identifier for each course.
- **title**: Name of the course.
- **description**: A brief overview of the course.
- **sections**: An array of **`ObjectId`** references to
  the **`Section`** model, representing the sections
  within the course.
  course is currently active and available.

### Sections Collection

- **\_id**: Unique identifier for each section.
- **title**: Title of the section.
- **description**: A brief overview of the section.
- **courseId**: **`ObjectId`** reference to the corresponding **`Course`**.
- **lessons**: An array of **`ObjectId`** references to the **`Lesson`** model, representing the lessons within the section.

### Lessons Collection

- **\_id**: Unique identifier for each lesson.
- **title**: Title of the lesson.
- **content**: The main textual content of the lesson.

## **API Documentation Overview**

### Base URL

External: **`https://knowledgebyaris.com/`**
Internal: **`/api/`**

### User Authentication (Managed by Clerk)

- **Sign Up**
  - Endpoint: **`/sign-up`**
  - Method: **`POST`**
  - Description: Registers a new user.
  - Request Body: **`{ email, password }`**
  - Response: **`201 Created`** with user details or **`400 Bad Request`** on failure.
- **Sign In**
  - Endpoint: **`/sign-in`**
  - Method: **`POST`**
  - Description: Authenticates a user.
  - Request Body: **`{ email, password }`**
  - Response: **`200 OK`** with session details or **`401 Unauthorized`** on failure.

### Courses

- **List All Courses**
  - Endpoint: **`/courses`**
  - Method: **`GET`**
  - Description: Retrieves a list of all available courses.
  - Response: **`200 OK`** with an array of courses.
- **Get Course Details**
  - Endpoint: **`/courses/{courseId}`**
  - Method: **`GET`**
  - Description: Retrieves detailed information about a specific course.
  - Path Parameter: **`courseId`**
  - Response: **`200 OK`** with course details or **`404 Not Found`** if not existing.

### Sections

- **Get Sections of a Course**
  - Endpoint: **`/courses/{courseId}/sections`**
  - Method: **`GET`**
  - Description: Retrieves sections of a specific course.
  - Path Parameter: **`courseId`**
  - Response: **`200 OK`** with an array of sections or **`404 Not Found`** if course not found.

### Lessons

- **Get Lessons of a Section**
  - Endpoint: **`/sections/{sectionId}/lessons`**
  - Method: **`GET`**
  - Description: Retrieves lessons in a specific section.
  - Path Parameter: **`sectionId`**
  - Response: **`200 OK`** with an array of lessons or **`404 Not Found`** if section not found.

### Error Handling

- Each endpoint should provide meaningful error messages and status codes for various failure scenarios, such as **`400 Bad Request`** for validation errors, **`401 Unauthorized`** for authentication failures, and **`500 Internal Server Error`** for unexpected issues.

### **Notes on API Documentation**

- **Versioning**: Consider versioning your API (e.g., **`/api/v1/`**) to manage changes and maintain backward compatibility.
- **Security**: Ensure that all endpoints are secured as needed, particularly those that access or modify user data.
- **Consistency**: Maintain a consistent format and naming convention across all API endpoints for ease of use and understanding.
